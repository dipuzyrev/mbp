{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/vue-the-mask/dist/vue-the-mask.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/chart.js/dist/chunks/helpers.segment.js","webpack:///./node_modules/chart.js/dist/chart.esm.js","webpack:///./node_modules/chart.js/auto/auto.esm.js","webpack:///./node_modules/core-js/internals/is-array.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","e","t","r","n","a","i","l","call","m","c","d","o","Object","defineProperty","configurable","enumerable","get","__esModule","default","hasOwnProperty","p","s","pattern","X","S","A","transform","toLocaleUpperCase","toLocaleLowerCase","escape","document","createEvent","initEvent","value","Array","isArray","mask","tokens","tagName","u","getElementsByTagName","Error","oninput","isTrusted","selectionEnd","charAt","activeElement","setSelectionRange","setTimeout","dispatchEvent","component","name","directive","window","Vue","use","props","String","Number","type","required","masked","Boolean","directives","data","lastValue","display","watch","refresh","computed","config","methods","onInput","target","$emit","sort","test","f","options","render","staticRenderFns","_scopeId","keys","esModule","$createElement","_self","_c","rawName","expression","attrs","domProps","on","input","isObject","wellKnownSymbol","SPECIES","originalArray","C","constructor","fails","METHOD_NAME","argument","method","bind","IndexedObject","toObject","toLength","arraySpeciesCreate","push","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","$this","that","specificCreate","result","O","self","boundFunction","index","create","map","filter","some","every","find","findIndex","filterOut","requestAnimFrame","callback","requestAnimationFrame","throttled","fn","thisArg","updateFn","updateArgs","args","slice","ticking","rest","apply","debounce","delay","timeout","clearTimeout","_toLeftRightCenter","align","_alignStartEnd","start","end","_textX","left","right","noop","uid","id","isNullOrUndef","toString","substr","isNumberFinite","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toPercentage","dimension","endsWith","parseFloat","toDimension","each","loopable","reverse","len","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","clone$1","source","klen","k","isValidKey","key","indexOf","_merger","tval","sval","merge","sources","merger","mergeIf","_mergerIf","emptyString","dot","indexOfDotOrLength","idx","resolveObjectKey","obj","pos","_capitalize","str","toUpperCase","defined","isFunction","setsEqual","b","size","item","has","PI","Math","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","range","niceRange","pow","floor","fraction","niceFraction","_factorize","sqrt","pop","isNumber","isNaN","almostEquals","x","y","epsilon","abs","almostWhole","rounded","round","_setMinAndMaxByKey","array","property","min","max","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","0","1","2","3","4","5","6","7","8","9","B","D","E","F","hex","h1","h2","eq","isShort","v","g","hexParse","ret","hexString","lim","h","p2b","n2b","b2n","n2p","RGB_RE","rgbParse","exec","rgbString","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","p1","p2","rotate","deg","hslString","map$1","Z","Y","W","V","U","T","R","Q","P","N","M","L","K","G","H","I","J","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","tkeys","j","ok","nk","replace","parseInt","names$1","nameParse","transparent","toLowerCase","modHSL","ratio","tmp","clone","proto","assign","fromObject","functionParse","Color","_rgb","_valid","color","weight","me","c1","c2","w2","w1","val","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","saturate","darken","overrides","getScope$1","node","split","root","scope","values","Defaults","_descriptors","animation","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","describe","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","local","defaults","_scriptable","startsWith","_indexable","_fallback","toFontString","_measureText","gc","longest","string","textWidth","measureText","width","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","splice","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","top","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","opts","lines","strokeWidth","strokeColor","line","translation","fillStyle","textAlign","textBaseline","strokeStyle","lineWidth","strokeText","maxWidth","fillText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","RegExp","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","resolve","inputs","info","cacheable","_addGrace","minmax","grace","_lookup","table","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","_filterBetween","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","base","res","object","unlistenArrayEvents","stub","_arrayUnique","items","set","Set","add","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","override","Proxy","_keys","_cached","_resolveWithPrefixes","Reflect","getOwnPropertyDescriptor","getPrototypeOf","getKeysFromAllScopes","includes","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","ownKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","descriptors","_resolveScriptable","_resolveArray","join","delete","createSubResolver","arr","resolver","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","points","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","current","next","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","delta","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","loop","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","getStyle","el","getPropertyValue","positions","getPositionedStyle","styles","suffix","useOffsetPos","shadowRoot","getCanvasPosition","evt","native","touches","offsetX","offsetY","box","getBoundingClientRect","clientX","clientY","getRelativePosition","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","container","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","addEventListener","removeEventListener","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","getNumberFormat","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","formatNumber","num","format","getRightToLeftAdapter","rectX","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","rtl","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","count","getSegment","segment","bounds","startBound","endBound","_boundSegment","prevValue","inside","subStart","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","last","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","prevStyle","readStyle","p0","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","_request","_charts","_running","_lastDate","anims","date","callbacks","numSteps","duration","initial","currentStep","_update","_refresh","Date","now","remaining","running","draw","_active","_total","tick","_notify","charts","complete","progress","event","cb","_getAnims","reduce","acc","_duration","cancel","animator","interpolators","from","to","factor","c0","valid","mix","cfg","currentValue","_fn","_easing","easing","_start","_target","_prop","_from","_to","_promises","elapsed","remain","promises","Promise","rej","resolved","numbers","colors","properties","active","resize","show","animations","visible","hide","_chart","_properties","configure","animatedProps","getOwnPropertyNames","option","newOptions","resolveTargetOptions","_createAnimations","$shared","awaitAll","$animations","then","_animateOptions","update","anim","wait","all","scaleClip","allowedOverflow","defaultClip","xScale","yScale","toClip","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","meta","stacked","getStackKey","indexScale","valueScale","getUserBounds","minDefined","maxDefined","NEGATIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","itemStacks","_top","_bottom","getFirstScaleId","shift","createDatasetContext","dataset","createDataContext","dataIndex","raw","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","isExtensible","_dataCheck","datasetElementType","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","parse","xAxisKey","yAxisKey","parsedValue","NaN","canStack","otherScale","_getOtherScale","otherMin","otherMax","_skip","updateRangeFromParsed","getParsed","label","getLabelForValue","_clip","getMaxOverflow","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","names","resolveNamedOptions","freeze","transition","datasetAnimationScopeKeys","sharedOptions","_animationsDisabled","_resolveAnimations","getSharedOptions","_setStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","getAllScaleValues","_cache","$bar","metas","concat","getAllParsedValues","computeMinSampleSize","curr","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","categoryPercentage","barPercentage","chunk","pixels","computeFlexCategoryTraits","percent","parseFloatBar","entry","startValue","endValue","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","iAxisKey","vAxisKey","super","bars","reset","getBasePixel","horizontal","isHorizontal","_getRuler","firstOpts","includeOptions","updateSharedOptions","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","enableBorderRadius","center","updateElement","_getStacks","_startPixel","_endPixel","_getStackCount","grouped","baseValue","minBarLength","floating","getDataVisibility","actualBase","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","stackIndex","_getStackIndex","rects","_index_","offset","grid","_value_","beginAtZero","getPixelForDecimal","getRatioAndOffset","circumference","cutout","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","tooltip","innerRadius","outerRadius","isDatasetVisible","_getRotation","_getCircumference","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","_getRotationExtents","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_circumference","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","hidden","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","_dataset","animationsDisabled","getStartAndCountOfVisiblePoints","scaleRangesChanged","_decimated","animated","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","pointCount","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","circular","pointLabels","PieController","RadarController","pointPosition","getPointPositionForValue","ScatterController","controllers","__proto__","BarController","BubbleController","DoughnutController","LineController","PolarAreaController","DateAdapter","timestamp","amount","unit","weekday","members","adapters","_date","evaluateAllVisibleItems","handler","getSortedVisibleDatasetMetas","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","position","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","_minPadding","evaluationFunc","inRange","getNearestItems","distanceMetric","minDistance","getCenterPoint","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","setLayoutDims","layouts","params","layout","fullSize","availableWidth","hBoxMaxHeight","vBoxMaxWidth","availableHeight","buildLayoutBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","change","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","placeBoxes","userPadding","padding","_layers","z","layoutItem","minPadding","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","BasePlatform","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","initCanvas","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","eventListenerOptions","passive","addListener","removeListener","fromNativeEvent","createAttachObserver","observer","MutationObserver","entries","addedNodes","added","observe","childList","subtree","createDetachObserver","removedNodes","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","removeAttribute","setAttribute","proxies","$proxies","handlers","attach","detach","getProps","final","defaultRoutes","formatters","tickValue","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","numeric","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","tickLength","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","ceil","majorStart","majorEnd","diff","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","title","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","minor","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","reverseAlign","offsetFromEdge","edge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","caches","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","titleArgs","titleX","titleY","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","getMinMax","xLabels","yLabels","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","notifyPlugins","_callHooks","beforeTickToLabelConversion","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","generateTickLabels","_computeLabelSizes","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","decimal","getBaseValue","optionTicks","rot","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","labelPadding","fillRect","_computeGridLineItems","drawLine","setLineDash","lineDashOffset","lastLineWidth","_computeLabelArea","_computeLabelItems","drawBackground","drawGrid","drawTitle","drawLabels","tz","gz","axisID","fontSize","isPrototypeOf","parentScope","isIChartComponent","register","registerDefaults","itemDefaults","routeDefaults","routes","propertyParts","sourceName","sourceScope","parts","_typedRegistries","_each","_get","typedRegistry","arg","reg","_getRegistryForType","isForType","_exec","itemReg","registry","camelMethod","_init","hook","_createDescriptors","descriptor","plugin","cancelable","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","getPlugin","getOpts","pluginOpts","pluginScopeKeys","getIndexAxis","datasetDefaults","datasetOptions","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","axisFromPosition","determineAxis","scaleOptions","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","_config","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","mainScope","resetCache","keyLists","_cachedScopes","subPrefixes","getResolver","needContext","subResolver","resolverCache","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","animationOptions","onComplete","onAnimationProgress","onProgress","isDomSupported","getCanvas","getElementById","instances","getChart","initialCanvas","existingChart","chartOptionScopes","_initializePlatform","acquireContext","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","listen","_initialize","bindEvents","OffscreenCanvas","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","scalesOptions","axisOptions","scaleOpts","updated","isRadial","dposition","dtype","scaleType","scaleClass","getScale","init","hasUpdated","addBox","_destroyDatasetMeta","newControllers","_removeUnreferencedMetasets","order","updateIndex","ControllerClass","getController","getElement","_updateMetasets","_resetElements","removeBox","animsDisabled","ensureScalesHaveIDs","buildOrUpdateScales","existingEvents","newEvents","unbindEvents","invalidate","buildOrUpdateControllers","buildOrUpdateElements","_updateLayout","_updateDatasets","_eventHandler","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","setDatasetVisibility","_updateDatasetVisibility","_destroy","remove","releaseContext","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","isAttached","activeElements","lastActive","_updateHoverStyles","notify","replay","hoverOptions","deactivated","activated","updateHoverStyle","eventFilter","_handleEvent","lastEvent","getElementsAtEventForMode","invalidatePlugins","clipArc","pixelMargin","angleMargin","toRadiusCorners","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","alpha","beta","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","drawArc","fullCircles","drawFullCircleBorders","inner","lineJoin","unregister","chartX","chartY","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","setStyle","lineCap","getLineMethod","stepped","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","useFastPath","_getInterpolationMethod","strokePathWithCache","path","_path","Path2D","strokePathDirect","segmentMethod","usePath2D","_points","_segments","_pointsUpdated","_interpolate","interpolated","inRange$1","hitRadius","mouseX","mouseY","hoverRadius","getBarBounds","bar","half","parseBorderSkipped","borderSkipped","parseEdge","swap","startEnd","orig","v2","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","maxR","enableBorder","boundingRects","outer","skipX","skipY","skipBoth","hasRadius","addNormalRectPath","addRectPath","ArcElement","LineElement","PointElement","BarElement","lttbDecimation","samples","decimated","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","minMaxDecimation","minIndex","maxIndex","startIndex","xMin","xMax","dx","lastIndex","intermediateIndex1","intermediateIndex2","cleanDecimatedDataset","cleanDecimatedData","getStartAndCountOfVisiblePointsSimplified","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","getLineByIndex","parseFillOption","fillOption","decodeFill","computeLinearBoundary","computeCircularBoundary","computeBoundary","pointsFromSegments","boundary","linePoints","buildStackLine","sourcePoints","linesBelow","getLinesBelow","createBoundaryLine","addPointsBelow","isLineAndNotInHideAnimation","below","unshift","sourcePoint","postponed","findPoint","interpolate","pointValue","firstValue","resolveTarget","propagate","visited","clipY","getBounds","_getEdge","tpoints","targetSegments","tgt","subBounds","fillSources","fillSource","clipBounds","interpolatedLineTo","interpolatedPoint","_fill","src","lineLoop","targetLoop","doFill","above","drawfill","lineOpts","plugin_filler","_args","$filler","drawTime","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","itemHeight","itemsEqual","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","generateLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","heightLimit","totalWidth","currentColWidth","currentColHeight","col","hitbox","_draw","defaultColor","rtlHelper","fontColor","halfFontSize","cursor","drawLegendBox","lineDash","drawOptions","SQRT2","xPlus","yBoxTop","xBoxLeft","leftForLtr","textDirection","setWidth","realX","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","isListened","hoveredItem","_getLegendItemAt","sameItem","onLeave","plugin_legend","_element","adjustHitBoxes","handleEvent","ci","_padding","textSize","fontOpts","_drawArgs","createTitle","titleBlock","plugin_title","positioners","hasValue","tooltipPosition","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getLabelAndValue","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","radiusAndPadding","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","beforeTitle","afterTitle","bodyItems","scoped","beforeLabel","afterLabel","beforeFooter","afterFooter","itemSort","labelColor","labelPointStyle","labelTextColor","_createItems","getTitle","getBeforeBody","getBody","getAfterBody","getFooter","positionAndSize","backgroundPoint","external","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","_drawColorBox","footerAlign","footerColor","tooltipSize","drawCaret","quadraticCurveTo","animX","animY","_updateAnimationTarget","hasTooltipContent","globalAlpha","drawBody","drawFooter","positionChanged","_positionChanged","plugin_tooltip","labelCount","Decimation","Filler","Legend","Title","Tooltip","addIfString","findOrAddLabel","lastIndexOf","_startValue","_valueRange","getDecimalForPixel","generateTicks$1","generationOptions","dataRange","MIN_SPACING","step","precision","maxTicks","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","_endValue","setMin","setMax","minSign","maxSign","stepSize","computeTickLimit","getTickLimit","numericGeneratorOptions","_maxDigits","handleTickRangeOptions","isMajor","tickVal","generateTicks","endExp","endSignificand","exp","significand","lastTick","_zero","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","furthestLimits","furthestAngles","valueCount","getPointPosition","drawingArea","plFont","_pointLabels","hLimits","vLimits","_setReductions","_pointLabelItems","tickBackdropHeight","outerDistance","extra","pointLabelPosition","adjustPointPositionForLabelHeight","getTextAlignForAngle","drawPointLabels","pathRadiusLine","drawRadiusLine","gridLineOpts","param","logarithmic","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","angleMultiplier","scalingFactor","scaledDistance","distanceFromCenter","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","startOf","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","determineUnitForFormatting","determineMajorUnit","addTick","time","timestamps","setMajorTicks","majorUnit","ticksFromTimestamps","_unit","_majorUnit","_offsets","_normalized","displayFormats","formats","normalized","_applyBounds","_getLabelBounds","endOf","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","getDecimalForValue","limit","hasWeekday","getDataTimestamps","tooltipFormat","datetime","minorFormat","majorFormat","_tickFormatFunction","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","_getLabelSize","prevSource","nextSource","prevTarget","nextTarget","span","_table","_maxIndex","_getTimestampsForTable","buildLookupTable","CategoryScale","LinearScale","LogarithmicScale","RadialLinearScale","TimeScale","TimeSeriesScale","registerables","classof"],"mappings":"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","file":"js/doctor~patient.e11ce08a.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","(function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.VueTheMask=t():e.VueTheMask=t()})(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\".\",t(t.s=10)}([function(e,t){e.exports={\"#\":{pattern:/\\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},\"!\":{escape:!0}}},function(e,t,n){\"use strict\";function r(e){var t=document.createEvent(\"Event\");return t.initEvent(e,!0,!0),t}var a=n(2),o=n(0),i=n.n(o);t.a=function(e,t){var o=t.value;if((Array.isArray(o)||\"string\"==typeof o)&&(o={mask:o,tokens:i.a}),\"INPUT\"!==e.tagName.toLocaleUpperCase()){var u=e.getElementsByTagName(\"input\");if(1!==u.length)throw new Error(\"v-mask directive requires 1 input, found \"+u.length);e=u[0]}e.oninput=function(t){if(t.isTrusted){var i=e.selectionEnd,u=e.value[i-1];for(e.value=n.i(a.a)(e.value,o.mask,!0,o.tokens);i<e.value.length&&e.value.charAt(i-1)!==u;)i++;e===document.activeElement&&(e.setSelectionRange(i,i),setTimeout(function(){e.setSelectionRange(i,i)},0)),e.dispatchEvent(r(\"input\"))}};var s=n.i(a.a)(e.value,o.mask,!0,o.tokens);s!==e.value&&(e.value=s,e.dispatchEvent(r(\"input\")))}},function(e,t,n){\"use strict\";var r=n(6),a=n(5);t.a=function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return Array.isArray(t)?n.i(a.a)(r.a,t,i)(e,t,o,i):n.i(r.a)(e,t,o,i)}},function(e,t,n){\"use strict\";function r(e){e.component(s.a.name,s.a),e.directive(\"mask\",i.a)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(0),o=n.n(a),i=n(1),u=n(7),s=n.n(u);n.d(t,\"TheMask\",function(){return s.a}),n.d(t,\"mask\",function(){return i.a}),n.d(t,\"tokens\",function(){return o.a}),n.d(t,\"version\",function(){return c});var c=\"0.11.1\";t.default=r,\"undefined\"!=typeof window&&window.Vue&&window.Vue.use(r)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1),a=n(0),o=n.n(a),i=n(2);t.default={name:\"TheMask\",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return o.a}}},directives:{mask:r.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;var e=n.i(i.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit(\"input\",e))}}}},function(e,t,n){\"use strict\";function r(e,t,n){return t=t.sort(function(e,t){return e.length-t.length}),function(r,a){for(var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;i<t.length;){var u=t[i];i++;var s=t[i];if(!(s&&e(r,s,!0,n).length>u.length))return e(r,u,o,n)}return\"\"}}t.a=r},function(e,t,n){\"use strict\";function r(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];e=e||\"\",t=t||\"\";for(var a=0,o=0,i=\"\";a<t.length&&o<e.length;){var u=t[a],s=r[u],c=e[o];s&&!s.escape?(s.pattern.test(c)&&(i+=s.transform?s.transform(c):c,a++),o++):(s&&s.escape&&(a++,u=t[a]),n&&(i+=u),c===u&&o++,a++)}for(var f=\"\";a<t.length&&n;){var u=t[a];if(r[u]){f=\"\";break}f+=u,a++}return i+f}t.a=r},function(e,t,n){var r=n(8)(n(4),n(9),null,null);e.exports=r.exports},function(e,t){e.exports=function(e,t,n,r){var a,o=e=e||{},i=typeof e.default;\"object\"!==i&&\"function\"!==i||(a=e,o=e.default);var u=\"function\"==typeof o?o.options:o;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns),n&&(u._scopeId=n),r){var s=u.computed||(u.computed={});Object.keys(r).forEach(function(e){var t=r[e];s[e]=function(){return t}})}return{esModule:a,exports:o,options:u}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)(\"input\",{directives:[{name:\"mask\",rawName:\"v-mask\",value:e.config,expression:\"config\"}],attrs:{type:\"text\"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,n){e.exports=n(3)}])});","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","/*!\n * Chart.js v3.3.2\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function() {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay);\n    } else {\n      fn();\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right) => align === 'right' ? right : align === 'center' ? (left + right) / 2 : left;\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = '0123456789ABCDEF';\nconst h1 = (b) => hex[b & 0xF];\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\nfunction isShort(v) {\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\nfunction hexParse(str) {\n\tvar len = str.length;\n\tvar ret;\n\tif (str[0] === '#') {\n\t\tif (len === 4 || len === 5) {\n\t\t\tret = {\n\t\t\t\tr: 255 & map[str[1]] * 17,\n\t\t\t\tg: 255 & map[str[2]] * 17,\n\t\t\t\tb: 255 & map[str[3]] * 17,\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\n\t\t\t};\n\t\t} else if (len === 7 || len === 9) {\n\t\t\tret = {\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\n\t\t\t};\n\t\t}\n\t}\n\treturn ret;\n}\nfunction hexString(v) {\n\tvar f = isShort(v) ? h1 : h2;\n\treturn v\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\n\t\t: v;\n}\nfunction round(v) {\n\treturn v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n\treturn lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n\treturn lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n\treturn lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n\treturn lim(round(v * 100), 0, 100);\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n\tconst m = RGB_RE.exec(str);\n\tlet a = 255;\n\tlet r, g, b;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[7] !== r) {\n\t\tconst v = +m[7];\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\n\t}\n\tr = +m[1];\n\tg = +m[3];\n\tb = +m[5];\n\tr = 255 & (m[2] ? p2b(r) : r);\n\tg = 255 & (m[4] ? p2b(g) : g);\n\tb = 255 & (m[6] ? p2b(b) : b);\n\treturn {\n\t\tr: r,\n\t\tg: g,\n\t\tb: b,\n\t\ta: a\n\t};\n}\nfunction rgbString(v) {\n\treturn v && (\n\t\tv.a < 255\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\n\t);\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n\tconst a = s * Math.min(l, 1 - l);\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\n\tlet i;\n\tif (w + b > 1) {\n\t\ti = 1 / (w + b);\n\t\tw *= i;\n\t\tb *= i;\n\t}\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] *= 1 - w - b;\n\t\trgb[i] += w;\n\t}\n\treturn rgb;\n}\nfunction rgb2hsl(v) {\n\tconst range = 255;\n\tconst r = v.r / range;\n\tconst g = v.g / range;\n\tconst b = v.b / range;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst l = (max + min) / 2;\n\tlet h, s, d;\n\tif (max !== min) {\n\t\td = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\th = max === r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\n\t\t\t: max === g\n\t\t\t\t? (b - r) / d + 2\n\t\t\t\t: (r - g) / d + 4;\n\t\th = h * 60 + 0.5;\n\t}\n\treturn [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n\treturn (\n\t\tArray.isArray(a)\n\t\t\t? f(a[0], a[1], a[2])\n\t\t\t: f(a, b, c)\n\t).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n\treturn calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n\treturn calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n\treturn calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n\treturn (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n\tconst m = HUE_RE.exec(str);\n\tlet a = 255;\n\tlet v;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[5] !== v) {\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n\t}\n\tconst h = hue(+m[2]);\n\tconst p1 = +m[3] / 100;\n\tconst p2 = +m[4] / 100;\n\tif (m[1] === 'hwb') {\n\t\tv = hwb2rgb(h, p1, p2);\n\t} else if (m[1] === 'hsv') {\n\t\tv = hsv2rgb(h, p1, p2);\n\t} else {\n\t\tv = hsl2rgb(h, p1, p2);\n\t}\n\treturn {\n\t\tr: v[0],\n\t\tg: v[1],\n\t\tb: v[2],\n\t\ta: a\n\t};\n}\nfunction rotate(v, deg) {\n\tvar h = rgb2hsl(v);\n\th[0] = hue(h[0] + deg);\n\th = hsl2rgb(h);\n\tv.r = h[0];\n\tv.g = h[1];\n\tv.b = h[2];\n}\nfunction hslString(v) {\n\tif (!v) {\n\t\treturn;\n\t}\n\tconst a = rgb2hsl(v);\n\tconst h = a[0];\n\tconst s = n2p(a[1]);\n\tconst l = n2p(a[2]);\n\treturn v.a < 255\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map$1 = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n\tconst unpacked = {};\n\tconst keys = Object.keys(names);\n\tconst tkeys = Object.keys(map$1);\n\tlet i, j, k, ok, nk;\n\tfor (i = 0; i < keys.length; i++) {\n\t\tok = nk = keys[i];\n\t\tfor (j = 0; j < tkeys.length; j++) {\n\t\t\tk = tkeys[j];\n\t\t\tnk = nk.replace(k, map$1[k]);\n\t\t}\n\t\tk = parseInt(names[ok], 16);\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n\t}\n\treturn unpacked;\n}\nlet names$1;\nfunction nameParse(str) {\n\tif (!names$1) {\n\t\tnames$1 = unpack();\n\t\tnames$1.transparent = [0, 0, 0, 0];\n\t}\n\tconst a = names$1[str.toLowerCase()];\n\treturn a && {\n\t\tr: a[0],\n\t\tg: a[1],\n\t\tb: a[2],\n\t\ta: a.length === 4 ? a[3] : 255\n\t};\n}\nfunction modHSL(v, i, ratio) {\n\tif (v) {\n\t\tlet tmp = rgb2hsl(v);\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n\t\ttmp = hsl2rgb(tmp);\n\t\tv.r = tmp[0];\n\t\tv.g = tmp[1];\n\t\tv.b = tmp[2];\n\t}\n}\nfunction clone(v, proto) {\n\treturn v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\n\tif (Array.isArray(input)) {\n\t\tif (input.length >= 3) {\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\n\t\t\tif (input.length > 3) {\n\t\t\t\tv.a = n2b(input[3]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\n\t\tv.a = n2b(v.a);\n\t}\n\treturn v;\n}\nfunction functionParse(str) {\n\tif (str.charAt(0) === 'r') {\n\t\treturn rgbParse(str);\n\t}\n\treturn hueParse(str);\n}\nclass Color {\n\tconstructor(input) {\n\t\tif (input instanceof Color) {\n\t\t\treturn input;\n\t\t}\n\t\tconst type = typeof input;\n\t\tlet v;\n\t\tif (type === 'object') {\n\t\t\tv = fromObject(input);\n\t\t} else if (type === 'string') {\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\n\t\t}\n\t\tthis._rgb = v;\n\t\tthis._valid = !!v;\n\t}\n\tget valid() {\n\t\treturn this._valid;\n\t}\n\tget rgb() {\n\t\tvar v = clone(this._rgb);\n\t\tif (v) {\n\t\t\tv.a = b2n(v.a);\n\t\t}\n\t\treturn v;\n\t}\n\tset rgb(obj) {\n\t\tthis._rgb = fromObject(obj);\n\t}\n\trgbString() {\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\n\t}\n\thexString() {\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\n\t}\n\thslString() {\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\n\t}\n\tmix(color, weight) {\n\t\tconst me = this;\n\t\tif (color) {\n\t\t\tconst c1 = me.rgb;\n\t\t\tconst c2 = color.rgb;\n\t\t\tlet w2;\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\n\t\t\tconst w = 2 * p - 1;\n\t\t\tconst a = c1.a - c2.a;\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tw2 = 1 - w1;\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\n\t\t\tme.rgb = c1;\n\t\t}\n\t\treturn me;\n\t}\n\tclone() {\n\t\treturn new Color(this.rgb);\n\t}\n\talpha(a) {\n\t\tthis._rgb.a = n2b(a);\n\t\treturn this;\n\t}\n\tclearer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 - ratio;\n\t\treturn this;\n\t}\n\tgreyscale() {\n\t\tconst rgb = this._rgb;\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n\t\trgb.r = rgb.g = rgb.b = val;\n\t\treturn this;\n\t}\n\topaquer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 + ratio;\n\t\treturn this;\n\t}\n\tnegate() {\n\t\tconst v = this._rgb;\n\t\tv.r = 255 - v.r;\n\t\tv.g = 255 - v.g;\n\t\tv.b = 255 - v.b;\n\t\treturn this;\n\t}\n\tlighten(ratio) {\n\t\tmodHSL(this._rgb, 2, ratio);\n\t\treturn this;\n\t}\n\tdarken(ratio) {\n\t\tmodHSL(this._rgb, 2, -ratio);\n\t\treturn this;\n\t}\n\tsaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, ratio);\n\t\treturn this;\n\t}\n\tdesaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, -ratio);\n\t\treturn this;\n\t}\n\trotate(deg) {\n\t\trotate(this._rgb, deg);\n\t\treturn this;\n\t}\n}\nfunction index_esm(input) {\n\treturn new Color(input);\n}\n\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  ctx.font = font.string;\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    if (opts.strikethrough || opts.underline) {\n      const metrics = ctx.measureText(line);\n      const left = x - metrics.actualBoundingBoxLeft;\n      const right = x + metrics.actualBoundingBoxRight;\n      const top = y - metrics.actualBoundingBoxAscent;\n      const bottom = y + metrics.actualBoundingBoxDescent;\n      const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n      ctx.strokeStyle = ctx.fillStyle;\n      ctx.beginPath();\n      ctx.lineWidth = opts.decorationWidth || 2;\n      ctx.moveTo(left, yDecoration);\n      ctx.lineTo(right, yDecoration);\n      ctx.stroke();\n    }\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace) {\n  const {min, max} = minmax;\n  return {\n    min: min - Math.abs(toDimension(grace, min)),\n    max: max + toDimension(grace, max)\n  };\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  const result = [];\n  set.forEach(item => {\n    result.push(item);\n  });\n  return result;\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      storage[prop] = value;\n      delete target[prop];\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters';\nfunction _cached(target, prop, resolve) {\n  let value = target[prop];\n  if (defined(value)) {\n    return value;\n  }\n  value = resolve();\n  if (defined(value)) {\n    target[prop] = value;\n  }\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + [..._stack].join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (isObject(value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, scope);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver([...set], [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return [...set];\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(evt, canvas) {\n  const e = evt.native || evt;\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: (n, s, e) => n >= Math.min(s, e) && n <= Math.max(e, s),\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles([{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(segments, points, segmentOptions);\n}\nfunction doSplitByStyles(segments, points, segmentOptions) {\n  const count = points.length;\n  const result = [];\n  let start = segments[0].start;\n  let i = start;\n  for (const segment of segments) {\n    let prevStyle, style;\n    let prev = points[start % count];\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext({type: 'segment', p0: prev, p1: pt}));\n      if (styleChanged(style, prevStyle)) {\n        result.push({start: start, end: i - 1, loop: segment.loop, style: prevStyle});\n        prevStyle = style;\n        start = i - 1;\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      result.push({start, end: i - 1, loop: segment.loop, style});\n      start = i - 1;\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { merge as $, _isPointInArea as A, _rlookupByKey as B, toPadding as C, each as D, getMaximumSize as E, _getParentNode as F, readUsedSize as G, HALF_PI as H, throttled as I, supportsEventListenerOptions as J, log10 as K, _factorize as L, finiteOrDefault as M, callback as N, _addGrace as O, PI as P, toDegrees as Q, _measureText as R, _int16Range as S, TAU as T, _alignPixel as U, renderText as V, toFont as W, _toLeftRightCenter as X, _alignStartEnd as Y, overrides as Z, _arrayUnique as _, resolve as a, _capitalize as a0, descriptors as a1, isFunction as a2, _attachContext as a3, _createResolver as a4, _descriptors as a5, mergeIf as a6, uid as a7, debounce as a8, retinaScale as a9, niceNum as aA, almostWhole as aB, almostEquals as aC, _decimalPlaces as aD, _longestText as aE, _filterBetween as aF, _lookup as aG, getHoverColor as aH, clone$1 as aI, _merger as aJ, _mergerIf as aK, _deprecated as aL, toFontString as aM, splineCurve as aN, splineCurveMonotone as aO, getStyle as aP, fontString as aQ, toLineHeight as aR, PITAU as aS, INFINITY as aT, RAD_PER_DEG as aU, QUARTER_PI as aV, TWO_THIRDS_PI as aW, _angleDiff as aX, clearCanvas as aa, setsEqual as ab, _elementsEqual as ac, getAngleFromPoint as ad, _readValueToProps as ae, _updateBezierControlPoints as af, _computeSegments as ag, _boundSegments as ah, _steppedInterpolation as ai, _bezierInterpolation as aj, _pointInLine as ak, _steppedLineTo as al, _bezierCurveTo as am, drawPoint as an, addRoundedRectPath as ao, toTRBL as ap, toTRBLCorners as aq, _boundSegment as ar, _normalizeAngle as as, getRtlAdapter as at, overrideTextDirection as au, _textX as av, restoreTextDirection as aw, noop as ax, distanceBetweenPoints as ay, _setMinAndMaxByKey as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, isNullOrUndef as j, clipArea as k, listenArrayEvents as l, unclipArea as m, toPercentage as n, toDimension as o, formatNumber as p, _angleBetween as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, isNumber as w, _limitValue as x, _lookupByKey as y, getRelativePosition as z };\n","/*!\n * Chart.js v3.3.2\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, b as isArray, d as defaults, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as isNullOrUndef, k as clipArea, m as unclipArea, _ as _arrayUnique, t as toRadians, n as toPercentage, o as toDimension, T as TAU, p as formatNumber, q as _angleBetween, H as HALF_PI, P as PI, w as isNumber, x as _limitValue, y as _lookupByKey, z as getRelativePosition$1, A as _isPointInArea, B as _rlookupByKey, C as toPadding, D as each, E as getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as log10, L as _factorize, M as finiteOrDefault, N as callback, O as _addGrace, Q as toDegrees, R as _measureText, S as _int16Range, U as _alignPixel, V as renderText, W as toFont, X as _toLeftRightCenter, Y as _alignStartEnd, Z as overrides, $ as merge, a0 as _capitalize, a1 as descriptors, a2 as isFunction, a3 as _attachContext, a4 as _createResolver, a5 as _descriptors, a6 as mergeIf, a7 as uid, a8 as debounce, a9 as retinaScale, aa as clearCanvas, ab as setsEqual, ac as _elementsEqual, ad as getAngleFromPoint, ae as _readValueToProps, af as _updateBezierControlPoints, ag as _computeSegments, ah as _boundSegments, ai as _steppedInterpolation, aj as _bezierInterpolation, ak as _pointInLine, al as _steppedLineTo, am as _bezierCurveTo, an as drawPoint, ao as addRoundedRectPath, ap as toTRBL, aq as toTRBLCorners, ar as _boundSegment, as as _normalizeAngle, at as getRtlAdapter, au as overrideTextDirection, av as _textX, aw as restoreTextDirection, ax as noop, ay as distanceBetweenPoints, az as _setMinAndMaxByKey, aA as niceNum, aB as almostWhole, aC as almostEquals, aD as _decimalPlaces, aE as _longestText, aF as _filterBetween, aG as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    const me = this;\n    if (me._request) {\n      return;\n    }\n    me._running = true;\n    me._request = requestAnimFrame.call(window, () => {\n      me._update();\n      me._request = null;\n      if (me._running) {\n        me._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    const me = this;\n    let remaining = 0;\n    me._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        me._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        me._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    me._lastDate = date;\n    if (remaining === 0) {\n      me._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    const me = this;\n    if (me._active) {\n      me._notify(false);\n      const currentValue = me._target[me._prop];\n      const elapsed = date - me._start;\n      const remain = me._duration - elapsed;\n      me._start = date;\n      me._duration = Math.floor(Math.max(remain, cfg.duration));\n      me._total += elapsed;\n      me._loop = !!cfg.loop;\n      me._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      me._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    const me = this;\n    if (me._active) {\n      me.tick(Date.now());\n      me._active = false;\n      me._notify(false);\n    }\n  }\n  tick(date) {\n    const me = this;\n    const elapsed = date - me._start;\n    const duration = me._duration;\n    const prop = me._prop;\n    const from = me._from;\n    const loop = me._loop;\n    const to = me._to;\n    let factor;\n    me._active = from !== to && (loop || (elapsed < duration));\n    if (!me._active) {\n      me._target[prop] = to;\n      me._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      me._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = me._easing(Math.min(1, Math.max(0, factor)));\n    me._target[prop] = me._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive) {\n  for (const meta of vScale.getMatchingVisibleMetas('bar').reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true);\n    stack._bottom = getLastIndexInStack(stack, vScale, false);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return Object.assign(Object.create(parent),\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return Object.assign(Object.create(parent), {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][meta.index] === undefined) {\n      return;\n    }\n    delete stacks[axis][meta.index];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const me = this;\n    const meta = me._cachedMeta;\n    me.configure();\n    me.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    me.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const me = this;\n    const chart = me.chart;\n    const meta = me._cachedMeta;\n    const dataset = me.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = me.getScaleForId(xid);\n    meta.yScale = me.getScaleForId(yid);\n    meta.rScale = me.getScaleForId(rid);\n    meta.iScale = me.getScaleForId(iid);\n    meta.vScale = me.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const me = this;\n    const dataset = me.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = me._data;\n    if (isObject(data)) {\n      me._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, me);\n        const meta = me._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, me);\n      }\n      me._syncList = [];\n      me._data = data;\n    }\n  }\n  addElements() {\n    const me = this;\n    const meta = me._cachedMeta;\n    me._dataCheck();\n    if (me.datasetElementType) {\n      meta.dataset = new me.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const dataset = me.getDataset();\n    let stackChanged = false;\n    me._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    me._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(me, meta._parsed);\n    }\n  }\n  configure() {\n    const me = this;\n    const config = me.chart.config;\n    const scopeKeys = config.datasetScopeKeys(me._type);\n    const scopes = config.getOptionScopes(me.getDataset(), scopeKeys, true);\n    me.options = config.createResolver(scopes, me.getContext());\n    me._parsing = me.options.parsing;\n  }\n  parse(start, count) {\n    const me = this;\n    const {_cachedMeta: meta, _data: data} = me;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (me._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = me.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = me.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = me.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(me, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      range.min = Math.min(range.min, value);\n      range.max = Math.max(range.max, value);\n      value = applyStack(stack, parsedValue, this._cachedMeta.index, {all: true});\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = me._getOtherScale(scale);\n    const stack = canStack && meta._stacked && {keys: getSortedDatasetIndices(me.chart, true), values: null};\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, value, parsed, otherValue;\n    function _skip() {\n      parsed = _parsed[i];\n      value = parsed[scale.axis];\n      otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(value) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      me.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        me.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = me.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    me.configure();\n    me._cachedDataOpts = {};\n    me.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(me.options.clip, defaultClip(meta.xScale, meta.yScale, me.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const me = this;\n    const ctx = me._ctx;\n    const chart = me.chart;\n    const meta = me._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = me._drawStart || 0;\n    const count = me._drawCount || (elements.length - start);\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.active) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const me = this;\n    const dataset = me.getDataset();\n    let context;\n    if (index >= 0 && index < me._cachedMeta.data.length) {\n      const element = me._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(me.getContext(), index, element));\n      context.parsed = me.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = me.$context ||\n        (me.$context = createDatasetContext(me.chart.getContext(), me.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = me.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const me = this;\n    const active = mode === 'active';\n    const cache = me._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = me.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = me.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(me._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => me.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const me = this;\n    const chart = me.chart;\n    const cache = me._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = me.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(me._type, transition);\n      const scopes = config.getOptionScopes(me.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, me.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const me = this;\n    const data = me._data;\n    const elements = me._cachedMeta.data;\n    for (const [method, arg1, arg2] of me._syncList) {\n      me[method](arg1, arg2);\n    }\n    me._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      me.parse(0, count);\n    }\n    if (numData > numMeta) {\n      me._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      me._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new me.dataElementType();\n    }\n    if (me._parsing) {\n      move(meta._parsed);\n    }\n    me.parse(start, count);\n    if (resetNewElements) {\n      me.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const me = this;\n    const meta = me._cachedMeta;\n    if (me._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._syncList.push(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._syncList.push(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._syncList.push(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    this._syncList.push(['_removeElements', start, count]);\n    this._syncList.push(['_insertElements', start, arguments.length - 2]);\n  }\n  _onDataUnshift() {\n    this._syncList.push(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale) {\n  if (!scale._cache.$bar) {\n    const metas = scale.getMatchingVisibleMetas('bar');\n    let values = [];\n    for (let i = 0, ilen = metas.length; i < ilen; i++) {\n      values = values.concat(metas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(scale) {\n  const values = getAllScaleValues(scale);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = me.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    const me = this;\n    me.enableOptionSharing = true;\n    super.initialize();\n    const meta = me._cachedMeta;\n    meta.stack = me.getDataset().stack;\n  }\n  update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    me.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const vScale = me._cachedMeta.vScale;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = me._getRuler();\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = me.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : me._calculateBarValuePixels(i);\n      const ipixels = me._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (me.index === stack._top || me.index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : undefined,\n        width: horizontal ? undefined : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n      }\n      me.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(me._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const me = this;\n    const opts = me.options;\n    const meta = me._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(me.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(iScale);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: me._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const me = this;\n    const {vScale, _stacked} = me._cachedMeta;\n    const {base: baseValue, minBarLength} = me.options;\n    const parsed = me.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? me.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (minBarLength !== undefined && Math.abs(size) < minBarLength) {\n      size = size < 0 ? -minBarLength : minBarLength;\n      if (value === 0) {\n        base -= size / 2;\n      }\n      head = base + size;\n    }\n    const actualBase = baseValue || 0;\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = vScale.getLineWidthForValue(actualBase) / 2;\n      if (size > 0) {\n        base += halfGrid;\n        size -= halfGrid;\n      } else if (size < 0) {\n        base -= halfGrid;\n        size += halfGrid;\n      }\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const me = this;\n    const scale = ruler.scale;\n    const options = me.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? me._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = me._getStackIndex(me.index, me._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(me.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const me = this;\n    const chart = me.chart;\n    const meta = me._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    clipArea(chart.ctx, chart.chartArea);\n    for (; i < ilen; ++i) {\n      if (me.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(me._ctx);\n      }\n    }\n    unclipArea(chart.ctx);\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  interaction: {\n    mode: 'index'\n  },\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = [];\n    let i, ilen, item;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      item = data[i];\n      parsed.push({\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), i),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), i),\n        _custom: item && item.r && +item.r\n      });\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const {data, _parsed} = this._cachedMeta;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size() / 2, _parsed[i]._custom);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = me.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const me = this;\n    const points = me._cachedMeta.data;\n    me.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const {iScale, vScale} = me._cachedMeta;\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && me.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = me.resolveDataElementOptions(i, mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      me.updateElement(point, i, properties, mode);\n    }\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    let i, ilen;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      meta._parsed[i] = +data[i];\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    const me = this;\n    for (let i = 0; i < me.chart.data.datasets.length; ++i) {\n      if (me.chart.isDatasetVisible(i)) {\n        const controller = me.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const me = this;\n    const chart = me.chart;\n    const {chartArea} = chart;\n    const meta = me._cachedMeta;\n    const arcs = meta.data;\n    const spacing = me.getMaxBorderWidth() + me.getMaxOffset(arcs);\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(me.options.cutout, maxSize), 1);\n    const chartWeight = me._getRingWeight(me.index);\n    const {circumference, rotation} = me._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(me.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / me._getVisibleDatasetWeightTotal();\n    me.offsetX = offsetX * outerRadius;\n    me.offsetY = offsetY * outerRadius;\n    meta.total = me.calculateTotal();\n    me.outerRadius = outerRadius - radiusLength * me._getRingWeightOffset(me.index);\n    me.innerRadius = Math.max(me.outerRadius - radiusLength * chartWeight, 0);\n    me.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const me = this;\n    const opts = me.options;\n    const meta = me._cachedMeta;\n    const circumference = me._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null) {\n      return 0;\n    }\n    return me.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const chart = me.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : me.innerRadius;\n    const outerRadius = animateScale ? 0 : me.outerRadius;\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    let startAngle = me._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += me._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = me._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + me.offsetX,\n        y: centerY + me.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n      }\n      startAngle += circumference;\n      me.updateElement(arc, i, properties, mode);\n    }\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i)) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const chart = me.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    const me = this;\n    let max = 0;\n    const chart = me.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          if (controller !== me) {\n            controller.configure();\n          }\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  indexAxis: 'r',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = me.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    me._drawStart = start;\n    me._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = me.resolveDatasetElementOptions(mode);\n    if (!me.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = me.options.segment;\n    me.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    me.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked} = me._cachedMeta;\n    const firstOpts = me.resolveDataElementOptions(start, mode);\n    const sharedOptions = me.getSharedOptions(firstOpts);\n    const includeOptions = me.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const spanGaps = me.options.spanGaps;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = me.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && me.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = me.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? me.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n      properties.parsed = parsed;\n      if (includeOptions) {\n        properties.options = sharedOptions || me.resolveDataElementOptions(i, mode);\n      }\n      if (!directUpdate) {\n        me.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    me.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const me = this;\n    const meta = me._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(me.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(me.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const chart = me.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _updateRadius() {\n    const me = this;\n    const chart = me.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    me.outerRadius = outerRadius - (radiusLength * me.index);\n    me.innerRadius = me.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const me = this;\n    const reset = mode === 'reset';\n    const chart = me.chart;\n    const dataset = me.getDataset();\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = me._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / me.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += me._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + me._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: me.resolveDataElementOptions(i, mode)\n      };\n      me.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const dataset = this.getDataset();\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const me = this;\n    const vScale = me._cachedMeta.vScale;\n    const parsed = me.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  update(mode) {\n    const me = this;\n    const meta = me._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = me.resolveDatasetElementOptions(mode);\n      if (!me.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      me.updateElement(line, undefined, properties, mode);\n    }\n    me.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const me = this;\n    const dataset = me.getDataset();\n    const scale = me._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = me.resolveDataElementOptions(i, mode);\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      me.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n  return getRelativePosition$1(e, chart);\n}\nfunction evaluateAllVisibleItems(chart, handler) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  let index, data, element;\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    ({index, data} = metasets[i]);\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  const items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  let items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (intersect && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    if (!_isPointInArea(center, chart.chartArea, chart._minPadding)) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  const position = getRelativePosition(e, chart);\n  const items = [];\n  const axis = options.axis;\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\n        getNearestItems(chart, position, axis, false, useFinalPosition);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x(chart, e, options, useFinalPosition) {\n      options.axis = 'x';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      options.axis = 'y';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos: box.position,\n      horizontal: box.isHorizontal(),\n      weight: box.weight\n    });\n  }\n  return layoutBoxes;\n}\nfunction setLayoutDims(layouts, params) {\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    if (layout.horizontal) {\n      layout.width = layout.box.fullSize && params.availableWidth;\n      layout.height = params.hBoxMaxHeight;\n    } else {\n      layout.width = params.vBoxMaxWidth;\n      layout.height = layout.box.fullSize && params.availableHeight;\n    }\n  }\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout) {\n  const box = layout.box;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(layout.pos)) {\n    if (layout.size) {\n      chartArea[layout.pos] -= layout.size;\n    }\n    layout.size = layout.horizontal ? box.height : box.width;\n    chartArea[layout.pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params) || changed;\n}\nfunction placeBoxes(boxes, chartArea, params) {\n  const userPadding = params.padding;\n  let x = chartArea.x;\n  let y = chartArea.y;\n  let i, ilen, layout, box;\n  for (i = 0, ilen = boxes.length; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    if (layout.horizontal) {\n      box.left = box.fullSize ? userPadding.left : chartArea.left;\n      box.right = box.fullSize ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\n      box.top = y;\n      box.bottom = y + box.height;\n      box.width = box.right - box.left;\n      y = box.bottom;\n    } else {\n      box.left = x;\n      box.right = x + box.width;\n      box.top = box.fullSize ? userPadding.top : chartArea.top;\n      box.bottom = box.fullSize ? params.outerHeight - userPadding.right : chartArea.top + chartArea.h;\n      box.height = box.bottom - box.top;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params);\n    fitBoxes(verticalBoxes, chartArea, params);\n    if (fitBoxes(horizontalBoxes, chartArea, params)) {\n      fitBoxes(verticalBoxes, chartArea, params);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h);\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition$1(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  const element = container || canvas;\n  const observer = new MutationObserver(entries => {\n    const parent = _getParentNode(element);\n    entries.forEach(entry => {\n      for (let i = 0; i < entry.addedNodes.length; i++) {\n        const added = entry.addedNodes[i];\n        if (added === element || added === parent) {\n          listener(entry.target);\n        }\n      }\n    });\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const observer = new MutationObserver(entries => {\n    entries.forEach(entry => {\n      for (let i = 0; i < entry.removedNodes.length; i++) {\n        if (entry.removedNodes[i] === canvas) {\n          listener();\n          break;\n        }\n      }\n    });\n  });\n  observer.observe(container, {childList: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && _getParentNode(container));\n  }\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const me = this;\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return me;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : me[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return Object.assign(Object.create(parent), {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return Object.assign(Object.create(parent), {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right} = scale;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    titleY = offsetFromEdge(scale, position, offset);\n    maxWidth = right - left;\n  } else {\n    titleX = offsetFromEdge(scale, position, offset);\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    const me = this;\n    me.options = options.setContext(me.getContext());\n    me.axis = options.axis;\n    me._userMin = me.parse(options.min);\n    me._userMax = me.parse(options.max);\n    me._suggestedMin = me.parse(options.suggestedMin);\n    me._suggestedMax = me.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    const me = this;\n    let {min, max, minDefined, maxDefined} = me.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = me.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(me, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    const me = this;\n    return {\n      left: me.paddingLeft || 0,\n      top: me.paddingTop || 0,\n      right: me.paddingRight || 0,\n      bottom: me.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const me = this;\n    const tickOpts = me.options.ticks;\n    const sampleSize = tickOpts.sampleSize;\n    me.beforeUpdate();\n    me.maxWidth = maxWidth;\n    me.maxHeight = maxHeight;\n    me._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    me.ticks = null;\n    me._labelSizes = null;\n    me._gridLineItems = null;\n    me._labelItems = null;\n    me.beforeSetDimensions();\n    me.setDimensions();\n    me.afterSetDimensions();\n    me._maxLength = me.isHorizontal()\n      ? me.width + margins.left + margins.right\n      : me.height + margins.top + margins.bottom;\n    if (!me._dataLimitsCached) {\n      me.beforeDataLimits();\n      me.determineDataLimits();\n      me.afterDataLimits();\n      me._range = _addGrace(me, me.options.grace);\n      me._dataLimitsCached = true;\n    }\n    me.beforeBuildTicks();\n    me.ticks = me.buildTicks() || [];\n    me.afterBuildTicks();\n    const samplingEnabled = sampleSize < me.ticks.length;\n    me._convertTicksToLabels(samplingEnabled ? sample(me.ticks, sampleSize) : me.ticks);\n    me.configure();\n    me.beforeCalculateLabelRotation();\n    me.calculateLabelRotation();\n    me.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      me.ticks = autoSkip(me, me.ticks);\n      me._labelSizes = null;\n    }\n    if (samplingEnabled) {\n      me._convertTicksToLabels(me.ticks);\n    }\n    me.beforeFit();\n    me.fit();\n    me.afterFit();\n    me.afterUpdate();\n  }\n  configure() {\n    const me = this;\n    let reversePixels = me.options.reverse;\n    let startPixel, endPixel;\n    if (me.isHorizontal()) {\n      startPixel = me.left;\n      endPixel = me.right;\n    } else {\n      startPixel = me.top;\n      endPixel = me.bottom;\n      reversePixels = !reversePixels;\n    }\n    me._startPixel = startPixel;\n    me._endPixel = endPixel;\n    me._reversePixels = reversePixels;\n    me._length = endPixel - startPixel;\n    me._alignToPixels = me.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    const me = this;\n    if (me.isHorizontal()) {\n      me.width = me.maxWidth;\n      me.left = 0;\n      me.right = me.width;\n    } else {\n      me.height = me.maxHeight;\n      me.top = 0;\n      me.bottom = me.height;\n    }\n    me.paddingLeft = 0;\n    me.paddingTop = 0;\n    me.paddingRight = 0;\n    me.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    const me = this;\n    me.chart.notifyPlugins(name, me.getContext());\n    callback(me.options[name], [me]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const me = this;\n    const tickOpts = me.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], me);\n    }\n    for (i = 0; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const me = this;\n    const options = me.options;\n    const tickOpts = options.ticks;\n    const numTicks = me.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\n      me.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = me._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(me.chart.width - maxLabelWidth, 0, me.maxWidth);\n    tickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = me.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, me.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)),\n        Math.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    me.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const me = this;\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = me;\n    const display = me._isVisible();\n    const isHorizontal = me.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = me.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = me.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && me.ticks.length) {\n        const {first, last, widest, highest} = me._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(me.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(me.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        me._calculatePadding(first, last, sin, cos);\n      }\n    }\n    me._handleMargins();\n    if (isHorizontal) {\n      me.width = me._length = chart.width - me._margins.left - me._margins.right;\n      me.height = minSize.height;\n    } else {\n      me.width = minSize.width;\n      me.height = me._length = chart.height - me._margins.top - me._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const me = this;\n    const {ticks: {align, padding}, position} = me.options;\n    const isRotated = me.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && me.axis === 'x';\n    if (me.isHorizontal()) {\n      const offsetLeft = me.getPixelForTick(0) - me.left;\n      const offsetRight = me.right - me.getPixelForTick(me.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      me.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * me.width / (me.width - offsetLeft), 0);\n      me.paddingRight = Math.max((paddingRight - offsetRight + padding) * me.width / (me.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      me.paddingTop = paddingTop + padding;\n      me.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    const me = this;\n    if (me._margins) {\n      me._margins.left = Math.max(me.paddingLeft, me._margins.left);\n      me._margins.top = Math.max(me.paddingTop, me._margins.top);\n      me._margins.right = Math.max(me.paddingRight, me._margins.right);\n      me._margins.bottom = Math.max(me.paddingBottom, me._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    const me = this;\n    me.beforeTickToLabelConversion();\n    me.generateTickLabels(ticks);\n    me.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    const me = this;\n    let labelSizes = me._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = me.options.ticks.sampleSize;\n      let ticks = me.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      me._labelSizes = labelSizes = me._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    const me = this;\n    if (me._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = me._startPixel + decimal * me._length;\n    return _int16Range(me._alignToPixels ? _alignPixel(me.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const me = this;\n    const ticks = me.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(me.getContext(), index, tick));\n    }\n    return me.$context ||\n\t\t\t(me.$context = createScaleContext(me.chart.getContext(), me));\n  }\n  _tickSize() {\n    const me = this;\n    const optionTicks = me.options.ticks;\n    const rot = toRadians(me.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = me._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return me.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const me = this;\n    const axis = me.axis;\n    const chart = me.chart;\n    const options = me.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = me.isHorizontal();\n    const ticks = me.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(me.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(me.bottom);\n      ty1 = me.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(me.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = me.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(me.right);\n      tx1 = me.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(me.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = me.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(me.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(me.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    for (i = 0; i < ticksLength; ++i) {\n      const optsAtIndex = grid.setContext(me.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(me, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    me._ticksLength = ticksLength;\n    me._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const me = this;\n    const axis = me.axis;\n    const options = me.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = me.isHorizontal();\n    const ticks = me.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(me.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = me.bottom - hTickAndPadding;\n      textAlign = me._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = me.top + hTickAndPadding;\n      textAlign = me._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = me._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = me._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = me.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = me._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = me.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = me._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = me._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(me.getContext(i));\n      pixel = me.getPixelForTick(i) + optionTicks.labelOffset;\n      font = me._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      if (isHorizontal) {\n        x = pixel;\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const me = this;\n    const {position, ticks} = me.options;\n    const rotation = -toRadians(me.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const me = this;\n    const {position, ticks: {crossAlign, mirror, padding}} = me.options;\n    const labelSizes = me._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        textAlign = 'left';\n        x = me.right + padding;\n      } else {\n        x = me.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = me.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        textAlign = 'right';\n        x = me.left + padding;\n      } else {\n        x = me.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = me.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    const me = this;\n    if (me.options.ticks.mirror) {\n      return;\n    }\n    const chart = me.chart;\n    const position = me.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: me.left, bottom: chart.height, right: me.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: me.top, left: 0, bottom: me.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const me = this;\n    const grid = me.options.grid;\n    if (!me._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = me.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(me.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const me = this;\n    const grid = me.options.grid;\n    const ctx = me.ctx;\n    const items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const me = this;\n    const {chart, ctx, options: {grid}} = me;\n    const borderOpts = grid.setContext(me.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(me.getContext(0)).lineWidth;\n    const borderValue = me._borderValue;\n    let x1, x2, y1, y2;\n    if (me.isHorizontal()) {\n      x1 = _alignPixel(chart, me.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, me.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const me = this;\n    const optionTicks = me.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = me.ctx;\n    const area = me._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = me._labelItems || (me._labelItems = me._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom') {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    const me = this;\n    if (!me._isVisible()) {\n      return;\n    }\n    me.drawBackground();\n    me.drawGrid(chartArea);\n    me.drawBorder();\n    me.drawTitle();\n    me.drawLabels(chartArea);\n  }\n  _layers() {\n    const me = this;\n    const opts = me.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = opts.grid && opts.grid.z || 0;\n    if (!me._isVisible() || me.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw(chartArea) {\n          me.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw(chartArea) {\n        me.drawBackground();\n        me.drawGrid(chartArea);\n        me.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw() {\n        me.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw(chartArea) {\n        me.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const me = this;\n    const metas = me.chart.getSortedVisibleDatasetMetas();\n    const axisID = me.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === me.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const me = this;\n    const fontSize = me._resolveTickFontOptions(0).lineHeight;\n    return (me.isHorizontal() ? me.width : me.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const me = this;\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = me.register(proto);\n    }\n    const items = me.items;\n    const id = item.id;\n    const scope = me.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (me.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    const me = this;\n    [...args].forEach(arg => {\n      const reg = typedRegistry || me._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === me.plugins && arg.id)) {\n        me._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || me._getRegistryForType(item);\n          me._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    const me = this;\n    if (hook === 'beforeInit') {\n      me._init = me._createDescriptors(chart, true);\n      me._notify(me._init, chart, 'install');\n    }\n    const descriptors = filter ? me._descriptors(chart).filter(filter) : me._descriptors(chart);\n    const result = me._notify(descriptors, chart, hook, args);\n    if (hook === 'destroy') {\n      me._notify(descriptors, chart, 'stop');\n      me._notify(me._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = [...scopes];\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    if ((isScriptable(prop) && isFunction(proxy[prop]))\n      || (isIndexable(prop) && isArray(proxy[prop]))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.3.2\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction getCanvas(item) {\n  if (isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nclass Chart {\n  constructor(item, config) {\n    const me = this;\n    this.config = config = new Config(config);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), me.getContext());\n    this.platform = me._initializePlatform(initialCanvas, config);\n    const context = me.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this.scale = undefined;\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(() => this.update('resize'), options.resizeDelay || 0);\n    instances[me.id] = me;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(me, 'complete', onAnimationsComplete);\n    animator.listen(me, 'progress', onAnimationProgress);\n    me._initialize();\n    if (me.attached) {\n      me.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    const me = this;\n    me.notifyPlugins('beforeInit');\n    if (me.options.responsive) {\n      me.resize();\n    } else {\n      retinaScale(me, me.options.devicePixelRatio);\n    }\n    me.bindEvents();\n    me.notifyPlugins('afterInit');\n    return me;\n  }\n  _initializePlatform(canvas, config) {\n    if (config.platform) {\n      return new config.platform();\n    } else if (!isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n      return new BasicPlatform();\n    }\n    return new DomPlatform();\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const me = this;\n    const options = me.options;\n    const canvas = me.canvas;\n    const aspectRatio = options.maintainAspectRatio && me.aspectRatio;\n    const newSize = me.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || me.platform.getDevicePixelRatio();\n    me.width = newSize.width;\n    me.height = newSize.height;\n    me._aspectRatio = me.aspectRatio;\n    if (!retinaScale(me, newRatio, true)) {\n      return;\n    }\n    me.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [me, newSize], me);\n    if (me.attached) {\n      if (me._doResize()) {\n        me.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const me = this;\n    const options = me.options;\n    const scaleOpts = options.scales;\n    const scales = me.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: me.ctx,\n          chart: me\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(me, scale, scale.options);\n      layouts.addBox(me, scale);\n    });\n  }\n  _updateMetasets() {\n    const me = this;\n    const metasets = me._metasets;\n    const numData = me.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        me._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    me._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const me = this;\n    const {_metasets: metasets, data: {datasets}} = me;\n    if (metasets.length > datasets.length) {\n      delete me._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        me._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const me = this;\n    const newControllers = [];\n    const datasets = me.data.datasets;\n    let i, ilen;\n    me._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = me.getDatasetMeta(i);\n      const type = dataset.type || me.config.type;\n      if (meta.type && meta.type !== type) {\n        me._destroyDatasetMeta(i);\n        meta = me.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, me.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = me.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(me, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    me._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    const me = this;\n    each(me.data.datasets, (dataset, datasetIndex) => {\n      me.getDatasetMeta(datasetIndex).controller.reset();\n    }, me);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const me = this;\n    const config = me.config;\n    config.update();\n    me._options = config.createResolver(config.chartOptionScopes(), me.getContext());\n    each(me.scales, (scale) => {\n      layouts.removeBox(me, scale);\n    });\n    const animsDisabled = me._animationsDisabled = !me.options.animation;\n    me.ensureScalesHaveIDs();\n    me.buildOrUpdateScales();\n    const existingEvents = new Set(Object.keys(me._listeners));\n    const newEvents = new Set(me.options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== me.options.responsive) {\n      me.unbindEvents();\n      me.bindEvents();\n    }\n    me._plugins.invalidate();\n    if (me.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = me.buildOrUpdateControllers();\n    me.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\n      const {controller} = me.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    me._minPadding = minPadding;\n    me._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    me._updateDatasets(mode);\n    me.notifyPlugins('afterUpdate', {mode});\n    me._layers.sort(compare2Level('z', '_idx'));\n    if (me._lastEvent) {\n      me._eventHandler(me._lastEvent, true);\n    }\n    me.render();\n  }\n  _updateLayout(minPadding) {\n    const me = this;\n    if (me.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(me, me.width, me.height, minPadding);\n    const area = me.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    me._layers = [];\n    each(me.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      me._layers.push(...box._layers());\n    }, me);\n    me._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    me.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    const me = this;\n    const isFunction = typeof mode === 'function';\n    if (me.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n      me._updateDataset(i, isFunction ? mode({datasetIndex: i}) : mode);\n    }\n    me.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const me = this;\n    const meta = me.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (me.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    me.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    const me = this;\n    if (me.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(me)) {\n      if (me.attached && !animator.running(me)) {\n        animator.start(me);\n      }\n    } else {\n      me.draw();\n      onAnimationsComplete({chart: me});\n    }\n  }\n  draw() {\n    const me = this;\n    let i;\n    if (me._resizeBeforeDraw) {\n      const {width, height} = me._resizeBeforeDraw;\n      me._resize(width, height);\n      me._resizeBeforeDraw = null;\n    }\n    me.clear();\n    if (me.width <= 0 || me.height <= 0) {\n      return;\n    }\n    if (me.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = me._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(me.chartArea);\n    }\n    me._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(me.chartArea);\n    }\n    me.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const me = this;\n    const metasets = me._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    const me = this;\n    if (me.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = me.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      me._drawDataset(metasets[i]);\n    }\n    me.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const me = this;\n    const ctx = me.ctx;\n    const clip = meta._clip;\n    const area = me.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (me.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    clipArea(ctx, {\n      left: clip.left === false ? 0 : area.left - clip.left,\n      right: clip.right === false ? me.width : area.right + clip.right,\n      top: clip.top === false ? 0 : area.top - clip.top,\n      bottom: clip.bottom === false ? me.height : area.bottom + clip.bottom\n    });\n    meta.controller.draw();\n    unclipArea(ctx);\n    args.cancelable = false;\n    me.notifyPlugins('afterDatasetDraw', args);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const me = this;\n    const dataset = me.data.datasets[datasetIndex];\n    const metasets = me._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = {chart: this, type: 'chart'});\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateDatasetVisibility(datasetIndex, visible) {\n    const me = this;\n    const mode = visible ? 'show' : 'hide';\n    const meta = me.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    me.setDatasetVisibility(datasetIndex, visible);\n    anims.update(meta, {visible});\n    me.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n  }\n  hide(datasetIndex) {\n    this._updateDatasetVisibility(datasetIndex, false);\n  }\n  show(datasetIndex) {\n    this._updateDatasetVisibility(datasetIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const me = this;\n    const meta = me._metasets && me._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n      delete me._metasets[datasetIndex];\n    }\n  }\n  destroy() {\n    const me = this;\n    const {canvas, ctx} = me;\n    let i, ilen;\n    me.stop();\n    animator.remove(me);\n    for (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\n      me._destroyDatasetMeta(i);\n    }\n    me.config.clearCache();\n    if (canvas) {\n      me.unbindEvents();\n      clearCanvas(canvas, ctx);\n      me.platform.releaseContext(ctx);\n      me.canvas = null;\n      me.ctx = null;\n    }\n    me.notifyPlugins('destroy');\n    delete instances[me.id];\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const me = this;\n    const listeners = me._listeners;\n    const platform = me.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(me, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = function(e, x, y) {\n      e.offsetX = x;\n      e.offsetY = y;\n      me._eventHandler(e);\n    };\n    each(me.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    const me = this;\n    if (!me._responsiveListeners) {\n      me._responsiveListeners = {};\n    }\n    const listeners = me._responsiveListeners;\n    const platform = me.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(me, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(me, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (me.canvas) {\n        me.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      me.attached = true;\n      me.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      me.attached = false;\n      _remove('resize', listener);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(me.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    const me = this;\n    each(me._listeners, (listener, type) => {\n      me.platform.removeEventListener(me, type, listener);\n    });\n    me._listeners = {};\n    each(me._responsiveListeners, (listener, type) => {\n      me.platform.removeEventListener(me, type, listener);\n    });\n    me._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const me = this;\n    const lastActive = me._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = me.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      me._active = active;\n      me._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const me = this;\n    const hoverOptions = me.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      me.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      me.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const me = this;\n    const args = {event: e, replay, cancelable: true};\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.type);\n    if (me.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = me._handleEvent(e, replay);\n    args.cancelable = false;\n    me.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      me.render();\n    }\n    return me;\n  }\n  _handleEvent(e, replay) {\n    const me = this;\n    const {_active: lastActive = [], options} = me;\n    const hoverOptions = options.hover;\n    const useFinalPosition = replay;\n    let active = [];\n    let changed = false;\n    let lastEvent = null;\n    if (e.type !== 'mouseout') {\n      active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n      lastEvent = e.type === 'click' ? me._lastEvent : e;\n    }\n    me._lastEvent = null;\n    if (_isPointInArea(e, me.chartArea, me._minPadding)) {\n      callback(options.onHover, [e, active, me], me);\n      if (e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu') {\n        callback(options.onClick, [e, active, me], me);\n      }\n    }\n    changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      me._active = active;\n      me._updateHoverStyles(active, lastActive, replay);\n    }\n    me._lastEvent = lastEvent;\n    return changed;\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, end) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + offset + pixelMargin : 0;\n  const alpha = end - start;\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset;\n  const endAngle = end - angleOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, startAngle + TAU);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, endAngle);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, endAngle) {\n  const {options} = element;\n  const inner = options.borderAlign === 'inner';\n  if (!options.borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = options.borderWidth * 2;\n    ctx.lineJoin = 'round';\n  } else {\n    ctx.lineWidth = options.borderWidth;\n    ctx.lineJoin = 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, endAngle);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const betweenAngles = circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = (distance >= innerRadius && distance <= outerRadius);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const me = this;\n    const {options, circumference} = me;\n    const offset = (options.offset || 0) / 2;\n    me.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    me.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || me.innerRadius < 0 || me.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (me.startAngle + me.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (me.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, me, radiusOffset);\n    drawBorder(ctx, me, radiusOffset, endAngle);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && line.segments.length === 1) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const me = this;\n    const options = me.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !me._pointsUpdated) {\n      const loop = options.spanGaps ? me._loop : me._fullLoop;\n      _updateBezierControlPoints(me._points, options, chartArea, loop, indexAxis);\n      me._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    const me = this;\n    me._points = points;\n    delete me._segments;\n    delete me._path;\n    me._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const me = this;\n    const options = me.options;\n    const value = point[property];\n    const points = me.points;\n    const segments = _boundSegments(me, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const me = this;\n    const segments = me.segments;\n    const segmentMethod = _getSegmentMethod(me);\n    let loop = me._loop;\n    start = start || 0;\n    count = count || (me.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, me, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const me = this;\n    const options = me.options || {};\n    const points = me.points || [];\n    if (!points.length || !options.borderWidth) {\n      return;\n    }\n    ctx.save();\n    draw(ctx, me, start, count);\n    ctx.restore();\n    if (me.animated) {\n      me._pointsUpdated = false;\n      me._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx) {\n    const me = this;\n    const options = me.options;\n    if (me.skip || options.radius < 0.1) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, me.x, me.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction parseBorderSkipped(bar) {\n  let edge = bar.options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    return res;\n  }\n  edge = bar.horizontal\n    ? parseEdge(edge, 'left', 'right', bar.base > bar.x)\n    : parseEdge(edge, 'bottom', 'top', bar.base < bar.y);\n  res[edge] = true;\n  return res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : Math.max(Math.min(value, max), min);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = parseBorderSkipped(bar);\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = parseBorderSkipped(bar);\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const options = this.options;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, outer);\n      ctx.clip();\n      addRectPath(ctx, inner);\n      ctx.fillStyle = options.borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inner);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  enableBorderRadius: true,\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (meta.type !== 'line') {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      if (count <= 4 * availableWidth) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\nfunction decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n    return target;\n  }\n  return ['origin', 'start', 'end', 'stack'].indexOf(fill) >= 0 && fill;\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  let target = null;\n  let horizontal;\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n  return null;\n}\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const target = [];\n  const start = options.reverse ? scale.max : scale.min;\n  const end = options.reverse ? scale.min : scale.max;\n  let i, center, value;\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach((segment) => {\n    const first = linePoints[segment.start];\n    const last = linePoints[segment.end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction buildStackLine(source) {\n  const {chart, scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(chart, index);\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nconst isLineAndNotInHideAnimation = (meta) => meta.type === 'line' && !meta.hidden;\nfunction getLinesBelow(chart, index) {\n  const below = [];\n  const metas = chart.getSortedVisibleDatasetMetas();\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (isLineAndNotInHideAnimation(meta)) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (pointValue >= firstValue && pointValue <= lastValue) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\nfunction getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return createBoundaryLine(boundary, line);\n}\nfunction createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _clip(ctx, target, clipY) {\n  ctx.beginPath();\n  target.path(ctx);\n  ctx.lineTo(target.last().x, clipY);\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    const bounds = getBounds(property, points[segment.start], points[segment.end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[segment.start],\n        end: points[segment.end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\nfunction _fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      interpolatedLineTo(ctx, target, end, property);\n    }\n    const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n    const loop = lineLoop && targetLoop;\n    if (!loop) {\n      interpolatedLineTo(ctx, target, start, property);\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n    _fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    _clip(ctx, target, area.bottom);\n  }\n  _fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction drawfill(ctx, source, area) {\n  const target = getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    const me = this;\n    me.maxWidth = maxWidth;\n    me.maxHeight = maxHeight;\n    me._margins = margins;\n    me.setDimensions();\n    me.buildLabels();\n    me.fit();\n  }\n  setDimensions() {\n    const me = this;\n    if (me.isHorizontal()) {\n      me.width = me.maxWidth;\n      me.left = 0;\n      me.right = me.width;\n    } else {\n      me.height = me.maxHeight;\n      me.top = 0;\n      me.bottom = me.height;\n    }\n  }\n  buildLabels() {\n    const me = this;\n    const labelOpts = me.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [me.chart], me) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, me.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, me.chart.data));\n    }\n    if (me.options.reverse) {\n      legendItems.reverse();\n    }\n    me.legendItems = legendItems;\n  }\n  fit() {\n    const me = this;\n    const {options, ctx} = me;\n    if (!options.display) {\n      me.width = me.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = me._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (me.isHorizontal()) {\n      width = me.maxWidth;\n      height = me._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = me.maxHeight;\n      width = me._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    me.width = Math.min(width, options.maxWidth || me.maxWidth);\n    me.height = Math.min(height, options.maxHeight || me.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const me = this;\n    const {ctx, maxWidth, options: {labels: {padding}}} = me;\n    const hitboxes = me.legendHitBoxes = [];\n    const lineWidths = me.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    me.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const me = this;\n    const {ctx, maxHeight, options: {labels: {padding}}} = me;\n    const hitboxes = me.legendHitBoxes = [];\n    const columnSizes = me.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let top = 0;\n    let col = 0;\n    me.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + fontSize + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        top = 0;\n        currentColWidth = currentColHeight = 0;\n      }\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += fontSize + padding;\n      hitboxes[i] = {left, top, col, width: itemWidth, height: itemHeight};\n      top += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    const me = this;\n    if (!me.options.display) {\n      return;\n    }\n    const titleHeight = me._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}}} = me;\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, me.left + padding, me.right - me.lineWidths[row]);\n        }\n        hitbox.top += me.top + titleHeight + padding;\n        hitbox.left = left;\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - me.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += me.left + padding;\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    const me = this;\n    if (me.options.display) {\n      const ctx = me.ctx;\n      clipArea(ctx, me);\n      me._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const me = this;\n    const {options: opts, columnSizes, lineWidths, ctx} = me;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    me.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: legendItem.textAlign\n      });\n    };\n    const isHorizontal = me.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, me.left + padding, me.right - lineWidths[0]),\n        y: me.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: me.left + padding,\n        y: _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(me.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    me.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + (fontSize / 2) + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(me.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > me.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, me.left + padding, me.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > me.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, me.top + titleHeight + padding, me.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, me.right);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(me.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const me = this;\n    const opts = me.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, me.left, me.width);\n    const ctx = me.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = me.left;\n    let maxWidth = me.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...me.lineWidths);\n      y = me.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, me.right - maxWidth);\n    } else {\n      const maxHeight = me.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, me.top, me.bottom - maxHeight - opts.labels.padding - me._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    const me = this;\n    let i, hitBox, lh;\n    if (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\n      lh = me.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n          return me.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const me = this;\n    const opts = me.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = me._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove') {\n      const previous = me._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, me], me);\n      }\n      me._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, me], me);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, me], me);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const me = this;\n    const opts = me.options;\n    me.left = 0;\n    me.top = 0;\n    if (!opts.display) {\n      me.width = me.height = me.right = me.bottom = 0;\n      return;\n    }\n    me.width = me.right = maxWidth;\n    me.height = me.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    me._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + me._padding.height;\n    if (me.isHorizontal()) {\n      me.height = textSize;\n    } else {\n      me.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const me = this;\n    const ctx = me.ctx;\n    const opts = me.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + me._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = me._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip._chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const radiusAndPadding = cornerRadius + caretPadding;\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= radiusAndPadding;\n  } else if (xAlign === 'right') {\n    x += radiusAndPadding;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return Object.assign(Object.create(parent), {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._chart = config._chart;\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const me = this;\n    const cached = me._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = me._chart;\n    const options = me.options.setContext(me.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(me._chart, opts);\n    if (opts._cacheable) {\n      me._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    const me = this;\n    return me.$context ||\n\t\t\t(me.$context = createTooltipContext(me._chart.getContext(), me, me._tooltipItems));\n  }\n  getTitle(context, options) {\n    const me = this;\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(me, [context]);\n    const title = callbacks.title.apply(me, [context]);\n    const afterTitle = callbacks.afterTitle.apply(me, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const me = this;\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(me, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(me, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(me, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const me = this;\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(me, [tooltipItems]);\n    const footer = callbacks.footer.apply(me, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(me, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const me = this;\n    const active = me._active;\n    const data = me._chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(me._chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(me, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(me, context));\n      labelTextColors.push(scoped.labelTextColor.call(me, context));\n    });\n    me.labelColors = labelColors;\n    me.labelPointStyles = labelPointStyles;\n    me.labelTextColors = labelTextColors;\n    me.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const me = this;\n    const options = me.options.setContext(me.getContext());\n    const active = me._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (me.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(me, active, me._eventPosition);\n      tooltipItems = me._createItems(options);\n      me.title = me.getTitle(tooltipItems, options);\n      me.beforeBody = me.getBeforeBody(tooltipItems, options);\n      me.body = me.getBody(tooltipItems, options);\n      me.afterBody = me.getAfterBody(tooltipItems, options);\n      me.footer = me.getFooter(tooltipItems, options);\n      const size = me._size = getTooltipSize(me, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(me._chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, me._chart);\n      me.xAlign = alignment.xAlign;\n      me.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    me._tooltipItems = tooltipItems;\n    me.$context = undefined;\n    if (properties) {\n      me._resolveAnimations().update(me, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(me, {chart: me._chart, tooltip: me, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {cornerRadius, caretSize} = options;\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + cornerRadius + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - cornerRadius - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const me = this;\n    const title = me.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n      pt.x = getAlignedX(me, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const me = this;\n    const labelColors = me.labelColors[i];\n    const labelPointStyle = me.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(me, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = me.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const me = this;\n    const {body} = me;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(me, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(me.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + 1) : (boxWidth + 2)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = me.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        me._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(me.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const me = this;\n    const footer = me.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, me.x, me.width);\n      pt.x = getAlignedX(me, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const radius = options.cornerRadius;\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + radius, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - radius, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - radius);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + radius, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + radius);\n    ctx.quadraticCurveTo(x, y, x + radius, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const me = this;\n    const chart = me._chart;\n    const anims = me.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(me, me._active, me._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = me._size = getTooltipSize(me, options);\n      const positionAndSize = Object.assign({}, position, me._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        me.xAlign = alignment.xAlign;\n        me.yAlign = alignment.yAlign;\n        me.width = size.width;\n        me.height = size.height;\n        me.caretX = position.x;\n        me.caretY = position.y;\n        me._resolveAnimations().update(me, point);\n      }\n    }\n  }\n  draw(ctx) {\n    const me = this;\n    const options = me.options.setContext(me.getContext());\n    let opacity = me.opacity;\n    if (!opacity) {\n      return;\n    }\n    me._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: me.width,\n      height: me.height\n    };\n    const pt = {\n      x: me.x,\n      y: me.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = me.title.length || me.beforeBody.length || me.body.length || me.afterBody.length || me.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      me.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      me.drawTitle(pt, ctx, options);\n      me.drawBody(pt, ctx, options);\n      me.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const me = this;\n    const lastActive = me._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = me._chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = me._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      me._active = active;\n      me._eventPosition = eventPosition;\n      me.update(true);\n    }\n  }\n  handleEvent(e, replay) {\n    const me = this;\n    const options = me.options;\n    const lastActive = me._active || [];\n    let changed = false;\n    let active = [];\n    if (e.type !== 'mouseout') {\n      active = me._chart.getElementsAtEventForMode(e, options.mode, options, replay);\n      if (options.reverse) {\n        active.reverse();\n      }\n    }\n    const positionChanged = me._positionChanged(active, e);\n    changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      me._active = active;\n      if (options.enabled || options.external) {\n        me._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        me.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({_chart: chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    const args = {\n      tooltip\n    };\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: plugin_filler,\nLegend: plugin_legend,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index) => typeof raw === 'string'\n  ? labels.push(raw) - 1\n  : isNaN(raw) ? null : index;\nfunction findOrAddLabel(labels, raw, index) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw));\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const me = this;\n    const {minDefined, maxDefined} = me.getUserBounds();\n    let {min, max} = me.getMinMax(true);\n    if (me.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = me.getLabels().length - 1;\n      }\n    }\n    me.min = min;\n    me.max = max;\n  }\n  buildTicks() {\n    const me = this;\n    const min = me.min;\n    const max = me.max;\n    const offset = me.options.offset;\n    const ticks = [];\n    let labels = me.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    me._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    me._startValue = me.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const me = this;\n    const labels = me.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    const me = this;\n    super.configure();\n    if (!me.isHorizontal()) {\n      me._reversePixels = !me._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    const me = this;\n    if (typeof value !== 'number') {\n      value = me.parse(value);\n    }\n    return value === null ? NaN : me.getPixelForDecimal((value - me._startValue) / me._valueRange);\n  }\n  getPixelForTick(index) {\n    const me = this;\n    const ticks = me.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return me.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    return Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.min((max - min) / spacing, maxTicks);\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin),\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const me = this;\n    const {beginAtZero} = me.options;\n    const {minDefined, maxDefined} = me.getUserBounds();\n    let {min, max} = me;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      setMax(max + 1);\n      if (!beginAtZero) {\n        setMin(min - 1);\n      }\n    }\n    me.min = min;\n    me.max = max;\n  }\n  getTickLimit() {\n    const me = this;\n    const tickOpts = me.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\n    } else {\n      maxTicks = me.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const me = this;\n    const opts = me.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = me.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: me._maxDigits(),\n      horizontal: me.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = me._range || me;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, me, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      me.start = me.max;\n      me.end = me.min;\n    } else {\n      me.start = me.min;\n      me.end = me.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const me = this;\n    const ticks = me.ticks;\n    let start = me.min;\n    let end = me.max;\n    super.configure();\n    if (me.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    me._startValue = start;\n    me._endValue = end;\n    me._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const me = this;\n    const {min, max} = me.getMinMax(true);\n    me.min = isNumberFinite(min) ? min : 0;\n    me.max = isNumberFinite(max) ? max : 1;\n    me.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const me = this;\n    const horizontal = me.isHorizontal();\n    const length = horizontal ? me.width : me.height;\n    const minRotation = toRadians(me.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = me._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const me = this;\n    const {min, max} = me.getMinMax(true);\n    me.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    me.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (me.options.beginAtZero) {\n      me._zero = true;\n    }\n    me.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const me = this;\n    const {minDefined, maxDefined} = me.getUserBounds();\n    let min = me.min;\n    let max = me.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (me._zero && me.min !== me._suggestedMin && min === exp(me.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    me.min = min;\n    me.max = max;\n  }\n  buildTicks() {\n    const me = this;\n    const opts = me.options;\n    const generationOptions = {\n      min: me._userMin,\n      max: me._userMax\n    };\n    const ticks = generateTicks(generationOptions, me);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, me, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      me.start = me.max;\n      me.end = me.min;\n    } else {\n      me.start = me.min;\n      me.end = me.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined ? '0' : formatNumber(value, this.chart.options.locale);\n  }\n  configure() {\n    const me = this;\n    const start = me.min;\n    super.configure();\n    me._startValue = log10(start);\n    me._valueRange = log10(me.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    const me = this;\n    if (value === undefined || value === 0) {\n      value = me.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return me.getPixelForDecimal(value === me.min\n      ? 0\n      : (log10(value) - me._startValue) / me._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    const decimal = me.getDecimalForPixel(pixel);\n    return Math.pow(10, me._startValue + decimal * me._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, lineHeight, label) {\n  if (isArray(label)) {\n    return {\n      w: _longestText(ctx, ctx.font, label),\n      h: label.length * lineHeight\n    };\n  }\n  return {\n    w: ctx.measureText(label).width,\n    h: lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const furthestLimits = {\n    l: 0,\n    r: scale.width,\n    t: 0,\n    b: scale.height - scale.paddingTop\n  };\n  const furthestAngles = {};\n  let i, textSize, pointPosition;\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale.getLabels().length;\n  for (i = 0; i < valueCount; i++) {\n    const opts = scale.options.pointLabels.setContext(scale.getContext(i));\n    padding[i] = opts.padding;\n    pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i]);\n    const plFont = toFont(opts.font);\n    scale.ctx.font = plFont.string;\n    textSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = scale.getIndexAngle(i);\n    const angle = toDegrees(angleRadians);\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    if (hLimits.start < furthestLimits.l) {\n      furthestLimits.l = hLimits.start;\n      furthestAngles.l = angleRadians;\n    }\n    if (hLimits.end > furthestLimits.r) {\n      furthestLimits.r = hLimits.end;\n      furthestAngles.r = angleRadians;\n    }\n    if (vLimits.start < furthestLimits.t) {\n      furthestLimits.t = vLimits.start;\n      furthestAngles.t = angleRadians;\n    }\n    if (vLimits.end > furthestLimits.b) {\n      furthestLimits.b = vLimits.end;\n      furthestAngles.b = angleRadians;\n    }\n  }\n  scale._setReductions(scale.drawingArea, furthestLimits, furthestAngles);\n  scale._pointLabelItems = [];\n  const opts = scale.options;\n  const tickBackdropHeight = getTickBackdropHeight(opts);\n  const outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\n  for (i = 0; i < valueCount; i++) {\n    const extra = (i === 0 ? tickBackdropHeight / 2 : 0);\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i]);\n    const angle = toDegrees(scale.getIndexAngle(i));\n    const size = labelSizes[i];\n    adjustPointPositionForLabelHeight(angle, size, pointLabelPosition);\n    const textAlign = getTextAlignForAngle(angle);\n    let left;\n    if (textAlign === 'left') {\n      left = pointLabelPosition.x;\n    } else if (textAlign === 'center') {\n      left = pointLabelPosition.x - (size.w / 2);\n    } else {\n      left = pointLabelPosition.x - size.w;\n    }\n    const right = left + size.w;\n    scale._pointLabelItems[i] = {\n      x: pointLabelPosition.x,\n      y: pointLabelPosition.y,\n      textAlign,\n      left,\n      top: pointLabelPosition.y,\n      right,\n      bottom: pointLabelPosition.y + size.h,\n    };\n  }\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\n  if (angle === 90 || angle === 270) {\n    position.y -= (textSize.h / 2);\n  } else if (angle > 270 || angle < 90) {\n    position.y -= textSize.h;\n  }\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction numberOrZero(param) {\n  return isNumber(param) ? param : 0;\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const me = this;\n    me.width = me.maxWidth;\n    me.height = me.maxHeight;\n    me.paddingTop = getTickBackdropHeight(me.options) / 2;\n    me.xCenter = Math.floor(me.width / 2);\n    me.yCenter = Math.floor((me.height - me.paddingTop) / 2);\n    me.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\n  }\n  determineDataLimits() {\n    const me = this;\n    const {min, max} = me.getMinMax(false);\n    me.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    me.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    me.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    const me = this;\n    LinearScaleBase.prototype.generateTickLabels.call(me, ticks);\n    me._pointLabels = me.getLabels().map((value, index) => {\n      const label = callback(me.options.pointLabels.callback, [value, index], me);\n      return label || label === 0 ? label : '';\n    });\n  }\n  fit() {\n    const me = this;\n    const opts = me.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(me);\n    } else {\n      me.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  _setReductions(largestPossibleRadius, furthestLimits, furthestAngles) {\n    const me = this;\n    let radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n    let radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\n    let radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n    let radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\n    radiusReductionLeft = numberOrZero(radiusReductionLeft);\n    radiusReductionRight = numberOrZero(radiusReductionRight);\n    radiusReductionTop = numberOrZero(radiusReductionTop);\n    radiusReductionBottom = numberOrZero(radiusReductionBottom);\n    me.drawingArea = Math.max(largestPossibleRadius / 2, Math.min(\n      Math.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\n      Math.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2)));\n    me.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    const me = this;\n    const maxRight = me.width - rightMovement - me.drawingArea;\n    const maxLeft = leftMovement + me.drawingArea;\n    const maxTop = topMovement + me.drawingArea;\n    const maxBottom = (me.height - me.paddingTop) - bottomMovement - me.drawingArea;\n    me.xCenter = Math.floor(((maxLeft + maxRight) / 2) + me.left);\n    me.yCenter = Math.floor(((maxTop + maxBottom) / 2) + me.top + me.paddingTop);\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / this.getLabels().length;\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    const me = this;\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = me.drawingArea / (me.max - me.min);\n    if (me.options.reverse) {\n      return (me.max - value) * scalingFactor;\n    }\n    return (value - me.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const me = this;\n    const scaledDistance = distance / (me.drawingArea / (me.max - me.min));\n    return me.options.reverse ? me.max - scaledDistance : me.min + scaledDistance;\n  }\n  getPointPosition(index, distanceFromCenter) {\n    const me = this;\n    const angle = me.getIndexAngle(index) - HALF_PI;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + me.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + me.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const me = this;\n    const {backgroundColor, grid: {circular}} = me.options;\n    if (backgroundColor) {\n      const ctx = me.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(me, me.getDistanceFromCenterForValue(me._endValue), circular, me.getLabels().length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const me = this;\n    const ctx = me.ctx;\n    const opts = me.options;\n    const {angleLines, grid} = opts;\n    const labelCount = me.getLabels().length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(me, labelCount);\n    }\n    if (grid.display) {\n      me.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = me.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(me.getContext(index - 1));\n          drawRadiusLine(me, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = me.getLabels().length - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(me.getContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\n        position = me.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(me.xCenter, me.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const me = this;\n    const ctx = me.ctx;\n    const opts = me.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = me.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(me.xCenter, me.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    me.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(me.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = me.getDistanceFromCenterForValue(me.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const me = this;\n    const options = me.options;\n    const adapter = me._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = me.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(me._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(me.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    me.min = Math.min(min, max - 1);\n    me.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const me = this;\n    const options = me.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? me.getLabelTimestamps() : me._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      me.min = me._userMin || timestamps[0];\n      me.max = me._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = me.min;\n    const max = me.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    me._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, me._getLabelCapacity(min))\n      : determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\n    me._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined\n      : determineMajorUnit(me._unit);\n    me.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(me, ticks, me._majorUnit);\n  }\n  initOffsets(timestamps) {\n    const me = this;\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (me.options.offset && timestamps.length) {\n      first = me.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (me.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = me.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - me.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    me._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const me = this;\n    const adapter = me._adapter;\n    const min = me.min;\n    const max = me.max;\n    const options = me.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, me._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && me.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const me = this;\n    const adapter = me._adapter;\n    const timeOpts = me.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const me = this;\n    const options = me.options;\n    const formats = options.time.displayFormats;\n    const unit = me._unit;\n    const majorUnit = me._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = me._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], me) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    const me = this;\n    return value === null ? NaN : (value - me.min) / (me.max - me.min);\n  }\n  getPixelForValue(value) {\n    const me = this;\n    const offsets = me._offsets;\n    const pos = me.getDecimalForValue(value);\n    return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    const offsets = me._offsets;\n    const pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return me.min + pos * (me.max - me.min);\n  }\n  _getLabelSize(label) {\n    const me = this;\n    const ticksOpts = me.options.ticks;\n    const tickLabelWidth = me.ctx.measureText(label).width;\n    const angle = toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = me._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const me = this;\n    const timeOpts = me.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = me._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\n    const size = me._getLabelSize(exampleLabel);\n    const capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    const me = this;\n    let timestamps = me._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = me.getMatchingVisibleMetas();\n    if (me._normalized && metas.length) {\n      return (me._cache.data = metas[0].controller.getAllParsedValues(me));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(me));\n    }\n    return (me._cache.data = me.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const me = this;\n    const timestamps = me._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = me.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(me, labels[i]));\n    }\n    return (me._cache.labels = me._normalized ? timestamps : me.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    prevSource = Math.floor(val);\n    nextSource = Math.ceil(val);\n    prevTarget = table[prevSource];\n    nextTarget = table[nextSource];\n  } else {\n    const result = _lookup(table, val);\n    prevTarget = result.lo;\n    nextTarget = result.hi;\n    prevSource = table[prevTarget];\n    nextSource = table[nextTarget];\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._maxIndex = undefined;\n  }\n  initOffsets() {\n    const me = this;\n    const timestamps = me._getTimestampsForTable();\n    me._table = me.buildLookupTable(timestamps);\n    me._maxIndex = me._table.length - 1;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const me = this;\n    const {min, max} = me;\n    if (!timestamps.length) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    const items = [min];\n    let i, ilen, curr;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr > min && curr < max) {\n        items.push(curr);\n      }\n    }\n    items.push(max);\n    return items;\n  }\n  _getTimestampsForTable() {\n    const me = this;\n    let timestamps = me._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = me.getDataTimestamps();\n    const label = me.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = me.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = me._cache.all = timestamps;\n    return timestamps;\n  }\n  getPixelForValue(value, index) {\n    const me = this;\n    const offsets = me._offsets;\n    const pos = me._normalized && me._maxIndex > 0 && !isNullOrUndef(index)\n      ? index / me._maxIndex : me.getDecimalForValue(value);\n    return me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getDecimalForValue(value) {\n    return interpolate(this._table, value) / this._maxIndex;\n  }\n  getValueForPixel(pixel) {\n    const me = this;\n    const offsets = me._offsets;\n    const decimal = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(me._table, decimal * this._maxIndex, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","import {Chart, registerables} from '../dist/chart.esm';\n\nChart.register(...registerables);\n\nexport default Chart;\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n"],"sourceRoot":""}